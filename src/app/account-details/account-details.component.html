<div class="d-flex flex-row">
  <!-- Sidebar -->
  <div class="d-flex flex-column flex-shrink-0 p-3 bg-body-tertiary" style="width: 280px;">
    
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
      <svg class="bi pe-none me-2" width="40" height="32"><use xlink:href="#bootstrap"></use></svg>
      <span class="fs-4">Navigation</span>
    </a>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
      <li class="nav-item">
        <a routerLink="/account-summary" routerLinkActive="active" class="nav-link active" aria-current="page">
          <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#home"></use></svg>
          Account Summary
        </a>
      </li>
      <li>
        <a routerLink="/transfer" routerLinkActive="active" class="nav-link link-body-emphasis">
          <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#table"></use></svg>
          Transfer Money
        </a>
      </li>
    </ul>
    <hr>
  </div>

  <!-- Main content -->
  <div class="flex-grow-1 p-3">
    <!-- Account Details -->
    <div *ngIf="accountDetails">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">Account Details</h2>
        <!-- Back to Login button -->
        <div>
          <a routerLink="/login" class="btn btn-primary">Back to Login</a>
        </div>
      </div>

      <!-- Account details and transaction history -->
      <p>Account Number: {{ accountDetails.accountNumber }}</p>
      <p>Account Type: {{ accountDetails.accountType }}</p>
      <p>Available Balance: {{ accountDetails.availableBalance }}</p>
      
      <h2>Transaction History</h2>
      <input type="text" [(ngModel)]="searchTerm" (keyup)="applySearch()" placeholder="Search...">

      <!-- Transaction history table with pagination -->
      <table class="table">
        <thead>
          <tr>
            <th>Source Account</th>
            <th>Destination Account</th>
            <th>Amount</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let transaction of displayedTransactions">
            <td>{{ transaction.sourceAccount }}</td>
            <td>{{ transaction.destinationAccount }}</td>
            <td>{{ transaction.amount }}</td>
            <td>{{ transaction.transferDate }}</td>
          </tr>
        </tbody>
      </table>

<div class="d-flex justify-content-end mt-3">
  <div class="pagination">
    <button class="btn btn-primary btn-lg me-2" (click)="prevPage()" [disabled]="currentPage === 1">
      P
    </button>
    <span>{{ currentPage }}</span>
    <button class="btn btn-primary btn-lg" (click)="nextPage()" [disabled]="currentPage * pageSize >= transactionHistory.length">
      N
    </button>
  </div>
</div>


      <div *ngIf="loading">
        Loading...
      </div>
    </div>

    <div class="fixed-bottom p-3 d-flex justify-content-center">
      <button routerLink="/transfer" class="btn btn-primary">Transfer Funds</button>
    </div>
  </div>
</div>
